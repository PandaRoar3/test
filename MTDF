local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Ahmed Mode", "Ocean")

-- Main Tab
local Main = Window:NewTab("Main")
local MainSection = Main:NewSection("Main")

local function autoPlace(npc, positions)
    local RunService = game:GetService("RunService")
    local Timer = 0
    local TimerMax = 2

    local currentIndex = 1

    RunService.Heartbeat:Connect(function(Delta)
        Timer += Delta
        if Timer >= TimerMax then
            Timer = 0
            if currentIndex <= #positions then
                local args = {
                    [1] = npc,
                    [2] = CFrame.new(positions[currentIndex].x, positions[currentIndex].y, positions[currentIndex].z) * CFrame.Angles(0, 1.5707963705062866, 0)
                }
                game:GetService("ReplicatedStorage").Event.TowerOn:FireServer(unpack(args))
                currentIndex += 1
            end
        end
    end)

    -- Auto Equip
    RunService.Heartbeat:Connect(function(Delta)
        Timer += Delta
        if Timer >= TimerMax then
            Timer = 0
            local args = {
                [1] = "Slot1"
            }
            game:GetService("Players").LocalPlayer.PlayerGui.ScreenGui.Frame.LocalScript.RemoteEvent:FireServer(unpack(args))
                [1] = "Slot2"
            }
            game:GetService("Players").LocalPlayer.PlayerGui.ScreenGui.Frame.LocalScript.RemoteEvent:FireServer(unpack(args))
        end
    end)
end

local function autoUpgrade(npcs)
    local RunService = game:GetService("RunService")
    local Timer = 0
    local TimerMax = 2

    RunService.Heartbeat:Connect(function(Delta)
        Timer += Delta
        if Timer >= TimerMax then
            Timer = 0
            for i, npc in ipairs(npcs) do
                local args = {
                    [1] = workspace.PlayerFodel.Npc[npc]
                }
                game:GetService("Players").LocalPlayer.PlayerGui.UpLevel.Frame.Uplevel.LocalScript.RemoteEvent:FireServer(unpack(args))
            end
        end
    end)
end

MainSection:NewButton("Auto Place", "Makes you do gymnastics", function()
    local positions = {
        Vector3.new(15.9067783, 2.05575228, -103.263527),
        Vector3.new(15.9067783, 2.05575228, -105.263527),
    }
    autoPlace("Eren", positions)
    autoPlace("Erwin", positions)

end)

MainSection:NewButton("Auto Upgrade", "Makes you do gymnastics", function()
    local npcsToUpgrade = {"Eren", "Erwin"}
    autoUpgrade(npcsToUpgrade)
end)
